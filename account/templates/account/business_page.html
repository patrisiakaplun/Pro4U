{% extends 'account/profile.html' %}
{% load static %}

{% block head_content %}
    <!--Add stylesheets dynamically-->
    {% block head_content2 %}
    {% endblock %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/business_page.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/profile.css' %}">
    <link href=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src=https://kit.fontawesome.com/297bbe7878.js crossorigin="anonymous"></script>
{% endblock %}

{% block title %}{{ professional.profile_id.user_id.first_name}}'s Profile{% endblock %}

{% block center-content %}
<div class="container mt-5">
    <div class="row d-flex justify-content-center">
        <div class="col-md-7">
            <div class="card p-3 py-4">
                <div class="text-center">
                    <img src="{% static 'img/blank_profile.png' %}" alt="user" class="profile-photo" style="width: 150px; height: 150px;">
                </div>
                <div class="text-center mt-3">
                    <h5 class="mt-2 mb-0">{{professional.profile_id.user_id.first_name}} {{professional.profile_id.user_id.last_name}}</h5>
                    <u>{{ professional.get_profession_display }}</u>
                    <div class="px-4 mt-1">
                        <p class="fonts">{{ professional.description }} </p>
                    </div>
                    <div>
                      <ul class="list-group list-group-flush">
                        {% for typeOfjob in typeOfjobs_by_pro %}
                          <li class="list-group-item list-group-item-action">
                            <strong>{{ typeOfjob.typeOfJob_name }}</strong>
                            {{ typeOfjob.price }}
                          </li>
                        {% endfor %}
                      </ul>
                    </div>
                    <div>
                      <div class="container mt-5">
    <div class="card">
        <div class="row no-gutters">
            <div class="col-md-4 border-right">
              <div class="ratings text-center p-4 py-5">
                {% if AVG >= 4.0 %}
                  <span class="badge bg-success">
                {% elif AVG >= 3.0 %}
                  <span class="badge" style="background-color: #b7dd29;">
                {% elif AVG >= 2.0 %}
                  <span class="badge bg-primary">
                {% elif AVG >= 1.0 %}
                  <span class="badge bg-warning">
                {% elif reviews == 0 %}
                  <span class="badge bg-dark">
                {% else %}
                  <span class="badge bg-danger">
                {% endif %}
                  {% if AVG %}
                    {{ AVG }}
                  {% else %}
                    N/A
                  {% endif %}
                  <i class="fa fa-star-o"></i>
                </span>
                <span class="d-block about-rating">
                  {% if AVG >= 4.0 %}
                    Excellent
                  {% elif AVG >= 3.0 %}
                    Good
                  {% elif AVG >= 2.0 %}
                    Average
                  {% elif AVG >= 1.0 %}
                    Poor
                  {% elif reviews == 0 %}
                    No Reviews Yet
                  {% else %}
                    Terrible
                  {% endif %}
                </span>
                <span class="d-block total-ratings">
                {{ reviews }} ratings
                </span>
              </div>
            </div>
            <div class="col-md-8">
                <div class="rating-progress-bars p-3 mt-2">
                    <div class="d-flex align-items-center">
                      <span class="stars">
                        <span>
                          5 <i class="fa fa-star text-success"></i>
                        </span>
                      </span>
                      <div class="col px-2">
                        <div class="progress" style="height: 5px;">
                          <div class="progress-bar  bg-success" role="progressbar" style="width: {{ FIVE_PERCENT }}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                      <span class="percent">
                        <span>{{ FIVE }}</span>
                      </span>
                    </div>
                    <div class="d-flex align-items-center">
                      <span class="stars">
                        <span>
                            4 <i class="fa fa-star text-custom" style="color: #b7dd29;"></i>
                        </span>
                      </span>
                      <div class="col px-2">
                        <div class="progress" style="height: 5px;">
                          <div class="progress-bar" role="progressbar" style="width: {{ FOUR_PERCENT }}%; background-color: #b7dd29;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                      <span class="percent">
                        <span>{{ FOUR }}</span>
                      </span>
                    </div>
                    <div class="d-flex align-items-center">
                      <span class="stars">
                        <span>
                          3 <i class="fa fa-star text-primary"></i>
                        </span>
                      </span>
                      <div class="col px-2">
                        <div class="progress" style="height: 5px;">
                          <div class="progress-bar  bg-primary" role="progressbar" style="width: {{ THREE_PERCENT }}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                      <span class="percent">
                        <span>{{ THREE }}</span>
                      </span>
                    </div>
                    <div class="d-flex align-items-center">
                      <span class="stars">
                        <span>
                          2 <i class="fa fa-star text-warning"></i>
                        </span>
                      </span>
                      <div class="col px-2">
                        <div class="progress" style="height: 5px;">
                          <div class="progress-bar  bg-warning" role="progressbar" style="width: {{ TWO_PERCENT }}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                      <span class="percent">
                        <span>{{ TWO }}</span>
                      </span>
                    </div>
                    <div class="d-flex align-items-center">
                      <span class="stars">
                        <span>
                          1 <i class="fa fa-star text-danger"></i>
                        </span>
                      </span>
                      <div class="col px-2">
                        <div class="progress" style="height: 5px;">
                          <div class="progress-bar  bg-danger" role="progressbar" style="width: {{ ONE_PERCENT }}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                      <span class="percent">
                        <span>{{ ONE }}</span>
                      </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
                    </div>
                    <ul class="social-list">
                        <li><i class="fa fa-facebook"></i></li>
                        <li><i class="fa fa-dribbble"></i></li>
                        <li><i class="fa fa-instagram"></i></li>
                        <li><i class="fa fa-linkedin"></i></li>
                        <li><i class="fa fa-google"></i></li>
                    </ul>
                    <div class="buttons">
                        <a href="{% url 'chat_message' professional.professional_id %}" class="btn btn-outline-primary px-4">
                          Message
                        </a>
                        <a href="{% url 'make_appointment' professional.professional_id %}" class="btn btn-primary text-light bg-black px-4 ms-3">
                          Make Appointment
                        </a>
                        <a href="{% url 'reviews' pk=professional.pk %}" class="btn btn-outline-primary px-4 ms-3">
                          Checkout All Reviews
                        </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}